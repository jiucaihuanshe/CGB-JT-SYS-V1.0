<div class="row">
	<div class="col-xs-12">
		<div class="box">
			<div class="box-header">
				<h3 class="box-title">用户管理</h3>

				<div class="box-tools">
					<div class="input-group input-group-sm" style="width: 350px;">
						<input type="text" name="table_search"  id="searchNameId"
							class="form-control pull-right" placeholder="用户名">

						<div class="input-group-btn">
							<button type="button" class="btn btn-default btn-search">
								<i class="fa fa-search"></i>
							</button>
							<button type="button" class="btn btn-warning btn-add">添加</button>
							<button type="button" class="btn btn-success btn-update">修改</button>
							<button type="button" class="btn btn-danger btn-delete">删除</button>
						</div>
					</div>
				</div>
			</div>
			<!-- /.box-header   -success绿色 -warning橙色 -primary蓝色 -danger红色-->
			<div class="box-body table-responsive no-padding">
				<table class="table table-hover">
					<tr>
						<th>选择</th>
						<th>用户名</th>
						<th>邮箱</th>
						<th>手机号</th>
						<th>状态</th>
						<th>操作</th>
					</tr>
					<tbody id="tabBodyId">
					
					</tbody>
				</table>
			</div>
			<!-- /.box-body -->
			<div id="pageId" class="box-footer clearfix">
				<ul class="pagination pagination-sm no-margin pull-right">
					<li><a class="first">首页</a></li>
					<li><a class="pre">上一页</a></li>
					<li><a class="next">下一页</a></li>
					<li><a class="last">尾页</a></li>
					<li><a class="rowCount">总记录数(3)</a></li>
					<li><a class="pageCount">总页数(3)</a></li>
					<li><a class="pageCurrent">当前页(1)</a></li>
				</ul>
			</div>
			<!-- /.box-body -->
		</div>
		<!-- /.box -->
	</div>
</div>
<script type="text/javascript">
	$(function(){
		doGetObject();
		//对每个分页元素进行监听
		$("#pageId").on("click",".first,.pre,.next,.last",doJumpToPage);
	});
	//分页信息初始化
	function setPagination(pageObject){
		$(".rowCount").html("总记录数("+pageObject.rowCount+")");
		$(".pageCount").html("总页数("+pageObject.pageCount+")");
		$(".pageCurrent").html("当前页("+pageObject.pageCurrent+")");
		
		$("#pageId").data("pageCurrent",pageObject.pageCurrent);
		$("#pageId").data("pageCount",pageObject.pageCount);
	}
	//对分页的事件处理
	function doJumpToPage(){
		var pageCurrent = $("#pageId").data("pageCurrent");
		var pageCount = $("#pageId").data("pageCount");
		if($(this).hasClass("first")){
			pageCurrent=1;
		}else if($(this).hasClass("pre")&&pageCurrent>1){
			pageCurrent--;
		}else if($(this).hasClass("next")&&pageCurrent<pageCount){
			pageCurrent++;
		}else if($(this).hasClass("last")){
			pageCurrent=pageCount;
		}
		//重新绑定当前页
		$("#pageId").data("pageCurrent",pageCurrent);
		doGetObject();
	}
	//加载用户信息
	function doGetObject(){
		var url="role/dofindUserObject.do";
		var pageCurrent=$("#pageId").data("pageCurrent");
		if(!pageCurrent)pageCurrent=1;
		var params={"pageCurrent":pageCurrent};
		params.username=$("#searchNameId").val();
		$.getJSON(url,params,function(result){
			if(result.state==1){
				//将服务器返回的数据填充到表格中
				setTableBodyRows(result.data.userrecords);
				//设置分页
				setPagination(result.data);
			}else{
				alert(result.message);
			}
		});
	}
	function setTableBodyRows(result){
		var tBody=$("#tabBodyId");
		tBody.empty();
		for(var i in result){
			var tr=$("<tr></tr>");
			var tds = "<td><input type='radio' name='radioId' onClick='radioOne()' value='"+result[i].id+"'/></td>"+
			"<td>"+result[i].username+"</td>"+
			"<td>"+result[i].email+"</td>"+
			"<td>"+result[i].mobile+"</td>"+
			"<td>"+result[i].valid+"</td>"+
			"<td>"+result[i].valid+"</td>";
			tr.append(tds);
			tBody.append(tr);
		}
	}
	function radioOne(){
		
	}
</script>